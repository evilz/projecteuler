@namespace Projecteuler.Components.Problems
@page "/problem/40"
@inherits ProblemBase

@{
    base.BuildRenderTree(__builder);
}

@code {
    protected override int Ref => 40;

    protected override string ProblemTitle => "Champernowne's Constant";

    protected override string Description => "<p>An irrational decimal fraction is created by concatenating the positive integers:\n$$0.12345678910{\\\\color{red}\\\\mathbf 1}112131415161718192021\\\\cdots$$</p>\n<p>It can be seen that the $12$<sup>th</sup> digit of the fractional part is $1$.</p>\n<p>If $d_n$ represents the $n$<sup>th</sup> digit of the fractional part, find the value of the following expression.\n$$d_1 \\\\times d_{10} \\\\times d_{100} \\\\times d_{1000} \\\\times d_{10000} \\\\times d_{100000} \\\\times d_{1000000}$$</p>";

    protected override string Explanation => "We build the fractional part by concatenating strings of increasing integers until we reach 1,000,000 digits. Then we multiply the digits at the specified indices.";

    protected override long Resolve()
    {
        var sb = new System.Text.StringBuilder();
        for (int i = 1; sb.Length < 1000000; i++)
        {
            sb.Append(i);
        }

        string s = sb.ToString();
        long product = 1;
        product *= int.Parse(s[0].ToString());
        product *= int.Parse(s[9].ToString());
        product *= int.Parse(s[99].ToString());
        product *= int.Parse(s[999].ToString());
        product *= int.Parse(s[9999].ToString());
        product *= int.Parse(s[99999].ToString());
        product *= int.Parse(s[999999].ToString());

        return product;
    }
}


